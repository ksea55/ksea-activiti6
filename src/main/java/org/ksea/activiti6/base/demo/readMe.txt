Activiti6 基础学习篇章

一、Activiti的核心流程引擎 ProcessEngine,通过ProcessEngine processEngine = ProcessEngines.getDefaultProcessEngine();就可以获取到流程引擎
当执行该方法之后,我们可以看到一下日志

"C:\Program Files\Java\jdk1.8.0_151\bin\java" -ea -Didea.test.cyclic.buffer.size=1048576 "-javaagent:C:\Program Files\JetBrains\IntelliJ IDEA 2017.3.4\lib\idea_rt.jar=50326:C:\Program Files\JetBrains\IntelliJ IDEA 2017.3.4\bin" -Dfile.encoding=UTF-8 -classpath "C:\Program Files\JetBrains\IntelliJ IDEA 2017.3.4\lib\idea_rt.jar;C:\Program Files\JetBrains\IntelliJ IDEA 2017.3.4\plugins\junit\lib\junit-rt.jar;C:\Program Files\JetBrains\IntelliJ IDEA 2017.3.4\plugins\junit\lib\junit5-rt.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\charsets.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\deploy.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\ext\access-bridge-64.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\ext\cldrdata.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\ext\dnsns.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\ext\jaccess.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\ext\jfxrt.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\ext\localedata.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\ext\nashorn.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\ext\sunec.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\ext\sunjce_provider.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\ext\sunmscapi.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\ext\sunpkcs11.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\ext\zipfs.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\javaws.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\jce.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\jfr.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\jfxswt.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\jsse.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\management-agent.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\plugin.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\resources.jar;C:\Program Files\Java\jdk1.8.0_151\jre\lib\rt.jar;C:\Users\ksea\IdeaProjects\ksea-activiti6\target\classes;E:\k.sea\localRepository\junit\junit\4.12\junit-4.12.jar;E:\k.sea\localRepository\org\hamcrest\hamcrest-core\1.3\hamcrest-core-1.3.jar;E:\k.sea\localRepository\mysql\mysql-connector-java\5.1.22\mysql-connector-java-5.1.22.jar;E:\k.sea\localRepository\org\apache\tomcat\tomcat-jdbc\8.0.15\tomcat-jdbc-8.0.15.jar;E:\k.sea\localRepository\org\apache\tomcat\tomcat-juli\8.0.15\tomcat-juli-8.0.15.jar;E:\k.sea\localRepository\org\activiti\activiti-engine\6.0.0\activiti-engine-6.0.0.jar;E:\k.sea\localRepository\org\activiti\activiti-bpmn-converter\6.0.0\activiti-bpmn-converter-6.0.0.jar;E:\k.sea\localRepository\org\activiti\activiti-bpmn-model\6.0.0\activiti-bpmn-model-6.0.0.jar;E:\k.sea\localRepository\org\activiti\activiti-process-validation\6.0.0\activiti-process-validation-6.0.0.jar;E:\k.sea\localRepository\org\activiti\activiti-image-generator\6.0.0\activiti-image-generator-6.0.0.jar;E:\k.sea\localRepository\org\activiti\activiti-dmn-api\6.0.0\activiti-dmn-api-6.0.0.jar;E:\k.sea\localRepository\org\activiti\activiti-dmn-model\6.0.0\activiti-dmn-model-6.0.0.jar;E:\k.sea\localRepository\org\activiti\activiti-form-model\6.0.0\activiti-form-model-6.0.0.jar;E:\k.sea\localRepository\com\fasterxml\jackson\core\jackson-core\2.7.5\jackson-core-2.7.5.jar;E:\k.sea\localRepository\com\fasterxml\jackson\core\jackson-databind\2.7.5\jackson-databind-2.7.5.jar;E:\k.sea\localRepository\com\fasterxml\jackson\core\jackson-annotations\2.7.0\jackson-annotations-2.7.0.jar;E:\k.sea\localRepository\org\activiti\activiti-form-api\6.0.0\activiti-form-api-6.0.0.jar;E:\k.sea\localRepository\org\apache\commons\commons-email\1.4\commons-email-1.4.jar;E:\k.sea\localRepository\com\sun\mail\javax.mail\1.5.2\javax.mail-1.5.2.jar;E:\k.sea\localRepository\javax\activation\activation\1.1.1\activation-1.1.1.jar;E:\k.sea\localRepository\de\odysseus\juel\juel-api\2.2.7\juel-api-2.2.7.jar;E:\k.sea\localRepository\de\odysseus\juel\juel-impl\2.2.7\juel-impl-2.2.7.jar;E:\k.sea\localRepository\de\odysseus\juel\juel-spi\2.2.7\juel-spi-2.2.7.jar;E:\k.sea\localRepository\joda-time\joda-time\2.6\joda-time-2.6.jar;E:\k.sea\localRepository\org\slf4j\slf4j-api\1.7.6\slf4j-api-1.7.6.jar;E:\k.sea\localRepository\org\activiti\activiti-spring\6.0.0\activiti-spring-6.0.0.jar;E:\k.sea\localRepository\org\springframework\spring-jdbc\4.2.5.RELEASE\spring-jdbc-4.2.5.RELEASE.jar;E:\k.sea\localRepository\commons-dbcp\commons-dbcp\1.4\commons-dbcp-1.4.jar;E:\k.sea\localRepository\commons-pool\commons-pool\1.5.4\commons-pool-1.5.4.jar;E:\k.sea\localRepository\org\slf4j\slf4j-log4j12\1.7.25\slf4j-log4j12-1.7.25.jar;E:\k.sea\localRepository\log4j\log4j\1.2.17\log4j-1.2.17.jar;E:\k.sea\localRepository\org\slf4j\jcl-over-slf4j\1.7.25\jcl-over-slf4j-1.7.25.jar;E:\k.sea\localRepository\org\mybatis\mybatis\3.4.2\mybatis-3.4.2.jar;E:\k.sea\localRepository\org\mybatis\mybatis-spring\1.2.2\mybatis-spring-1.2.2.jar;E:\k.sea\localRepository\org\springframework\spring-core\4.3.13.RELEASE\spring-core-4.3.13.RELEASE.jar;E:\k.sea\localRepository\commons-logging\commons-logging\1.2\commons-logging-1.2.jar;E:\k.sea\localRepository\org\springframework\spring-beans\4.3.13.RELEASE\spring-beans-4.3.13.RELEASE.jar;E:\k.sea\localRepository\org\springframework\spring-test\4.3.13.RELEASE\spring-test-4.3.13.RELEASE.jar;E:\k.sea\localRepository\org\springframework\spring-context\4.3.13.RELEASE\spring-context-4.3.13.RELEASE.jar;E:\k.sea\localRepository\org\springframework\spring-aop\4.3.13.RELEASE\spring-aop-4.3.13.RELEASE.jar;E:\k.sea\localRepository\org\springframework\spring-expression\4.3.13.RELEASE\spring-expression-4.3.13.RELEASE.jar;E:\k.sea\localRepository\org\springframework\spring-context-support\4.3.13.RELEASE\spring-context-support-4.3.13.RELEASE.jar;E:\k.sea\localRepository\org\springframework\spring-tx\4.3.13.RELEASE\spring-tx-4.3.13.RELEASE.jar;E:\k.sea\localRepository\org\springframework\spring-orm\4.3.13.RELEASE\spring-orm-4.3.13.RELEASE.jar;E:\k.sea\localRepository\org\apache\commons\commons-lang3\3.4\commons-lang3-3.4.jar;E:\k.sea\localRepository\commons-io\commons-io\2.5\commons-io-2.5.jar;E:\k.sea\localRepository\commons-fileupload\commons-fileupload\1.2.2\commons-fileupload-1.2.2.jar" com.intellij.rt.execution.junit.JUnitStarter -ideVersion5 -junit4 org.ksea.activiti6.base.demo.BaseActiviti6Test1,baseActiviti
10:01:32,768 [main] INFO  org.activiti.engine.ProcessEngines  - Initializing process engine using configuration 'file:/C:/Users/ksea/IdeaProjects/ksea-activiti6/target/classes/activiti.cfg.xml'
10:01:32,771 [main] INFO  org.activiti.engine.ProcessEngines  - initializing process engine for resource file:/C:/Users/ksea/IdeaProjects/ksea-activiti6/target/classes/activiti.cfg.xml
10:01:37,955 [main] INFO  org.activiti.engine.compatibility.DefaultActiviti5CompatibilityHandlerFactory  - Activiti 5 compatibility handler implementation not found or error during instantiation : org.activiti.compatibility.DefaultActiviti5CompatibilityHandler. Activiti 5 backwards compatibility disabled.
10:01:37,984 [main] INFO  org.activiti.engine.impl.db.DbSqlSession  - performing create on engine with resource org/activiti/db/create/activiti.mysql.create.engine.sql
10:01:37,985 [main] INFO  org.activiti.engine.impl.db.DbSqlSession  - Found MySQL: majorVersion=5 minorVersion=7
10:02:16,426 [main] INFO  org.activiti.engine.impl.db.DbSqlSession  - performing create on history with resource org/activiti/db/create/activiti.mysql.create.history.sql
10:02:16,427 [main] INFO  org.activiti.engine.impl.db.DbSqlSession  - Found MySQL: majorVersion=5 minorVersion=7
10:02:23,888 [main] INFO  org.activiti.engine.impl.db.DbSqlSession  - performing create on identity with resource org/activiti/db/create/activiti.mysql.create.identity.sql
10:02:23,888 [main] INFO  org.activiti.engine.impl.db.DbSqlSession  - Found MySQL: majorVersion=5 minorVersion=7
10:02:27,042 [main] INFO  org.activiti.engine.impl.ProcessEngineImpl  - ProcessEngine default created
10:02:27,158 [main] INFO  org.activiti.engine.ProcessEngines  - initialised process engine default

通过日志分析，ProcessEngines.getDefaultProcessEngine();默认去项目根路径中取activiti.cfg.xml配置文件，通过该配置文件
其
performing create on engine with resource org/activiti/db/create/activiti.mysql.create.engine.sql
performing create on history with resource org/activiti/db/create/activiti.mysql.create.history.sql
create on identity with resource org/activiti/db/create/activiti.mysql.create.identity.sql

依次执行这三个文件,将创建起activiti的表结构